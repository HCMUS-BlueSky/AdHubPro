<!-- Right Part -->
<div class="col p-3 border-start">
  <%- include('../../partials/header.ejs') %>
  <hr />
  <form
    method="POST"
    id="form"
    class="card bg-light mb-3"
    enctype="multipart/form-data"
  >
    <div class="card-body p-4">
      <h4 class="card-title py-2 fw-semibold">Yêu cầu cập nhật thông tin</h4>
      <div class="d-flex flex-column pb-4 px-3">
        <label for="" class="form-label">Địa điểm</label>
        <div
          class="d-flex flex-row gap-3 align-items-start text-secondary w-100"
        >
          <input
            type="text"
            class="form-control w-auto flex-grow-1"
            disabled
            id=""
            aria-describedby="helpId"
            placeholder="Địa chỉ"
            value="<%= ads.location.address %>"
          />
          <input
            type="text"
            class="form-control w-auto"
            disabled
            id=""
            aria-describedby="helpId"
            placeholder="Phường"
            value="<%= ads.location.ward %>"
          />
          <input
            type="text"
            class="form-control w-auto"
            disabled
            id=""
            aria-describedby="helpId"
            placeholder="Quận"
            value="<%= ads.location.district %>"
          />
        </div>
        <label for="method_select" class="form-label pt-3"
          >Loại bảng quảng cáo</label
        >
        <div>
          <select
            class="form-select text-secondary w-50"
            name="type"
            id="method_select"
          >
            <option <%= ads.type ? '' : 'selected' %> >Vui lòng chọn</option>
            <option value="Trụ bảng hiflex" <%= ads.type === 'Trụ bảng hiflex' ? 'selected' : '' %> >Trụ bảng hiflex</option>
            <option value="Trụ màn hình điện tử LED" <%= ads.type === 'Trụ màn hình điện tử LED' ? 'selected' : '' %> >Trụ màn hình điện tử LED</option>
            <option value="Trụ hộp đèn" <%= ads.type === 'Trụ hộp đèn' ? 'selected' : '' %> >Trụ hộp đèn</option>
            <option value="Bảng hiflex ốp tường" <%= ads.type === 'Bảng hiflex ốp tường' ? 'selected' : '' %> >Bảng hiflex ốp tường</option>
            <option value="Màn hình điện tử ốp tường" <%= ads.type === 'Màn hình điện tử ốp tường' ? 'selected' : '' %> >Màn hình điện tử ốp tường</option>
            <option value="Trụ treo băng rôn dọc" <%= ads.type === 'Trụ treo băng rôn dọc' ? 'selected' : '' %> >Trụ treo băng rôn dọc</option>
            <option value="Trụ treo băng rôn ngang" <%= ads.type === 'Trụ treo băng rôn ngang' ? 'selected' : '' %> >Trụ treo băng rôn ngang</option>
            <option value="Trụ/Cụm pano" <%= ads.type === 'Trụ/Cụm pano' ? 'selected' : '' %> >Trụ/Cụm pano</option>
            <option value="Cổng chào" <%= ads.type === 'Cổng chào' ? 'selected' : '' %> >Cổng chào</option>
            <option value="Trung tâm thương mại" <%= ads.type === 'Trung tâm thương mại' ? 'selected' : '' %> >Trung tâm thương mại</option>
          </select>
        </div>
        <label for="" class="form-label pt-3">Kích thước bảng quảng cáo</label>
        <input
          type="text"
          class="form-control w-50"
          required
          id=""
          aria-describedby="helpId"
          placeholder="2.5m x 10m"
          name="size"
          value="<%= ads.size %>"
        />

        <label for="date_input" class="form-label pt-3"
          >Thời hạn hợp đồng</label
        >
        <div class="input-group input-daterange w-50" id="date_input">
          <input type="date" class="form-control text-secondary" disabled value="<%= moment(ads.effective).format('DD-MM-YYYY'); %>"/>
          <div class="input-group-text">to</div>
          <input type="date" class="form-control text-secondary" disabled value="<%= moment(ads.expiration).format('DD-MM-YYYY'); %>"/>
        </div>
        <label for="file_inp" class="form-label pt-3"
          >Hình ảnh thực tế</label
        >
        <div class="input-group input-daterange">
          <input
            type="file"
            class="form-control text-secondary"
            id="file_inp"
            placeholder="Chưa có file được chọn"
            aria-describedby="fileHelpId"
            name="images"
            multiple
          />
        </div>
        <label for="text-area" class="form-label pt-3">Lý do chỉnh sửa<span class="text-danger"> *</span></label>
        <textarea name="content" class="form-control" id="text-area" rows="4" placeholder="Lý do chỉnh sửa ..." value=""></textarea>
        <div
          class="d-flex flex-row justify-content-center align-items-center gap-4 pt-5"
        >
          <a
            name=""
            id=""
            class="btn btn-secondary px-4"
            href="/ward/ads"
            role="button"
            >Trở về danh sách</a
          >
          <button
            type="button"
            name=""
            id=""
            class="btn btn-primary px-4"
            data-bs-toggle="modal"
            data-bs-target="#confirmModal"
          >
            Gửi yêu cầu
          </button>
        </div>
      </div>
    </div>
  </form>
</div>

<div
  class="modal fade"
  id="confirmModal"
  tabindex="-1"
  aria-labelledby="confirmModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="confirmModalLabel">Xác nhận</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        Bạn có chắc chắn muốn gửi yêu cầu thay đổi?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Đóng
        </button>
        <button type="button" class="btn btn-primary" id="submit-btn">
          Gửi yêu cầu
        </button>
      </div>
    </div>
  </div>
</div>
<script>
  document.getElementById("submit-btn").addEventListener("click", () => {
    form.submit();
  });
</script>